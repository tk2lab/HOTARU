[main]
workdir = hotaru
tag = default

[tune]
tag = ${main:tag}
make_tag = ${tag}

[workflow]
tag = ${main:tag}
prev_tag = ${tag}
prev_stage = 0
prev_kind = spatial
end_stage = 10
end_kind = spike
non_stop = False

[data]
tag = ${main:tag}
imgs_path = imgs.tif
mask_type = 0.pad
hz = 20.0
tausize = 32
batch = 100

[find]
tag = ${main:tag}
data_tag = ${tag}
shard = 1
batch = 100

[make]
tag = ${main:tag}
find_tag = ${tag}
distance = 1.6
window = 100
batch = 100

[temporal]
tag = ${main:tag}
segment_tag = ${tag}
segment_stage = 999
optimizer_learning_rate = 0.01
optimizer_nesterov_scale = 20.0
optimizer_reset_interval = 100
early_stop_min_delta = 1e-3
early_stop_patience = 3
epochs = 100
batch = 100

[spatial]
tag = ${main:tag}
spike_tag = ${tag}
spike_stage = 999
optimizer_learning_rate = 0.01
optimizer_nesterov_scale = 20.0
optimizer_reset_interval = 100
early_stop_min_delta = 1e-3
early_stop_patience = 3
epochs = 100
batch = 100

[clean]
tag = ${main:tag}
footprint_tag = ${tag}
footprint_stage = 999
thr_area = 0.5
thr_overwrap = 0.8
batch = 100

[DEFAULT]
radius_type = log
radius_min = 2.0
radius_max = 20.0
radius_num = 13

tau1 = 0.08
tau2 = 0.16

penalty_footprint = 20.0
penalty_spike = 30.0
penalty_localt = 0.1
penalty_spatial = 0.1
penalty_temporal = 0.1

storage_saving = False
scale = 1.0
